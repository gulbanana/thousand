@using BlazorMonaco
@inject IJSRuntime JS
@code {
    [Parameter] public string Source { get; set; }
    [Parameter] public EventCallback<string> SourceChanged { get; set; }
    private MonacoEditor editor;

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await JS.InvokeVoidAsync("registerLanguage");
        }
    }

    private StandaloneEditorConstructionOptions CreateOptions(MonacoEditor editor)
    {
        this.editor = editor;
        return new StandaloneEditorConstructionOptions
        {
            Language = "thousand",
            Theme = "vs",
            Value = Source,
            AutomaticLayout = true,
            ScrollBeyondLastLine = false,            
            Minimap = new EditorMinimapOptions
            {
                Enabled = false
            },
        };
    }

    private async Task ModelContentChanged(ModelContentChangedEvent e)
    {
        var value = await editor.GetValue();
        await SourceChanged.InvokeAsync(value.ToString());
    }
}

<MonacoEditor ConstructionOptions="CreateOptions" OnDidChangeModelContent="ModelContentChanged" />