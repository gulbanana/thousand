class box [shape=rect, min-width=50, min-height=50,stroke=1,fill=white]
class line [stroke=1]

group [padding=10,fill=#ccc,layout=equal-area,scale=2] {
    row [gutter=10,scale=2,fill=white,align-horizontal=center] {
        box a
        box b
        line a--b [anchor=ne nw] // scaled thickness
    }
    line a--b [anchor=se sw] //unscaled thickness

    // line positions adjusted for scaling, overlaid in order
    box x [pos=00 120]
    box z [pos=160 120]
    line x--z [anchor=ne none]
    box y [pos=80 120]
    line x--z [anchor=none sw]
}